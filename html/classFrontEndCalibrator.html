<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RFIMS-CART: FrontEndCalibrator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="CART-1_icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RFIMS-CART
   </div>
   <div id="projectbrief">This software was designed to capture RF power measurements from a spectrum analyzer Aaronia Spectran V4, using an antenna which could be rotated to point the horizon in different azimuth angles and whose polarization could be changed between horizontal and vertical. A sweep from 1 GHz (or maybe less) to 9.4 GHz is captured in each antenna position and then it is calibrated, it is processed to identify RF interference (RFI), it is saved into memory, it is plotted with the detected RFI and finally the measurements are sent to a remote server.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classFrontEndCalibrator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FrontEndCalibrator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The aim of this class is to calculate the total gain and total noise figure curves versus frequency of the RF front end.  
 <a href="classFrontEndCalibrator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="SweepProcessing_8h_source.html">SweepProcessing.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abff839c00a46ff060c1d66fc3b151d65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#abff839c00a46ff060c1d66fc3b151d65">FrontEndCalibrator</a> (<a class="el" href="classCurveAdjuster.html">CurveAdjuster</a> &amp;adj)</td></tr>
<tr class="memdesc:abff839c00a46ff060c1d66fc3b151d65"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default class constructor.  <a href="#abff839c00a46ff060c1d66fc3b151d65">More...</a><br /></td></tr>
<tr class="separator:abff839c00a46ff060c1d66fc3b151d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a026150fceb18ec9601cbc698e04f39cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a026150fceb18ec9601cbc698e04f39cc">FrontEndCalibrator</a> (<a class="el" href="classCurveAdjuster.html">CurveAdjuster</a> &amp;adj, const std::vector&lt; <a class="el" href="structBandParameters.html">BandParameters</a> &gt; &amp;bandsParam)</td></tr>
<tr class="memdesc:a026150fceb18ec9601cbc698e04f39cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">A more complete constructor which allows to insert the vector with the parameters of all frequency bands.  <a href="#a026150fceb18ec9601cbc698e04f39cc">More...</a><br /></td></tr>
<tr class="separator:a026150fceb18ec9601cbc698e04f39cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8744dd099d7e7ba6f04be3505cd4a607"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a8744dd099d7e7ba6f04be3505cd4a607">~FrontEndCalibrator</a> ()</td></tr>
<tr class="memdesc:a8744dd099d7e7ba6f04be3505cd4a607"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <em><a class="el" href="classFrontEndCalibrator.html" title="The aim of this class is to calculate the total gain and total noise figure curves versus frequency o...">FrontEndCalibrator</a></em> destructor.  <a href="#a8744dd099d7e7ba6f04be3505cd4a607">More...</a><br /></td></tr>
<tr class="separator:a8744dd099d7e7ba6f04be3505cd4a607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fcf8e8343878614d1b03910bb97a3d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a6fcf8e8343878614d1b03910bb97a3d6">SetBandsParameters</a> (const std::vector&lt; <a class="el" href="structBandParameters.html">BandParameters</a> &gt; &amp;bandsParam)</td></tr>
<tr class="memdesc:a6fcf8e8343878614d1b03910bb97a3d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method allows to insert a vector with the parameters of all frequency bands.  <a href="#a6fcf8e8343878614d1b03910bb97a3d6">More...</a><br /></td></tr>
<tr class="separator:a6fcf8e8343878614d1b03910bb97a3d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af166e90f4fe0dfd7cdf825b88d33a479"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#af166e90f4fe0dfd7cdf825b88d33a479">LoadENR</a> ()</td></tr>
<tr class="memdesc:af166e90f4fe0dfd7cdf825b88d33a479"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method load the curve of ENR values versus frequency of the noise generator, from the corresponding file.  <a href="#af166e90f4fe0dfd7cdf825b88d33a479">More...</a><br /></td></tr>
<tr class="separator:af166e90f4fe0dfd7cdf825b88d33a479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a548817f0476ac8a459a991a0518e9be5"><td class="memItemLeft" align="right" valign="top"><a id="a548817f0476ac8a459a991a0518e9be5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a548817f0476ac8a459a991a0518e9be5">StartCalibration</a> ()</td></tr>
<tr class="memdesc:a548817f0476ac8a459a991a0518e9be5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The calibration is started ensuring the noise source is turned off, switching the input to this device and preparing the object to receive the sweeps. <br /></td></tr>
<tr class="separator:a548817f0476ac8a459a991a0518e9be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816fdd2af713e8e980a96c9242ff0180"><td class="memItemLeft" align="right" valign="top"><a id="a816fdd2af713e8e980a96c9242ff0180"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a816fdd2af713e8e980a96c9242ff0180">TurnOnNS</a> ()</td></tr>
<tr class="memdesc:a816fdd2af713e8e980a96c9242ff0180"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method just turns on the noise generator and it internally registers this situation. <br /></td></tr>
<tr class="separator:a816fdd2af713e8e980a96c9242ff0180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29e76f2ff18f7d794fa219fab97ab53"><td class="memItemLeft" align="right" valign="top"><a id="ad29e76f2ff18f7d794fa219fab97ab53"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#ad29e76f2ff18f7d794fa219fab97ab53">TurnOffNS</a> ()</td></tr>
<tr class="memdesc:ad29e76f2ff18f7d794fa219fab97ab53"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method just turns off the noise generator and it internally registers this situation. <br /></td></tr>
<tr class="separator:ad29e76f2ff18f7d794fa219fab97ab53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ba6971b00b7736b80e04a5f9ca784dc"><td class="memItemLeft" align="right" valign="top"><a id="a4ba6971b00b7736b80e04a5f9ca784dc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a4ba6971b00b7736b80e04a5f9ca784dc">EndCalibration</a> ()</td></tr>
<tr class="memdesc:a4ba6971b00b7736b80e04a5f9ca784dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The calibration process is finished turning it off the noise generator and switching the input to the antenna. <br /></td></tr>
<tr class="separator:a4ba6971b00b7736b80e04a5f9ca784dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54329452d80cfb0fbcff947803091bb7"><td class="memItemLeft" align="right" valign="top"><a id="a54329452d80cfb0fbcff947803091bb7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a54329452d80cfb0fbcff947803091bb7">SetSweep</a> (const <a class="el" href="structFreqValues.html">FreqValues</a> &amp;sweep)</td></tr>
<tr class="memdesc:a54329452d80cfb0fbcff947803091bb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is intended to insert the two sweeps which are captured during the calibration process, with the noise source turned on and off. <br /></td></tr>
<tr class="separator:a54329452d80cfb0fbcff947803091bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae054d1423b8d2cdba2bd223ab8488e2d"><td class="memItemLeft" align="right" valign="top"><a id="ae054d1423b8d2cdba2bd223ab8488e2d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#ae054d1423b8d2cdba2bd223ab8488e2d">SetNSoffTemp</a> (const float nsOffTemp)</td></tr>
<tr class="memdesc:ae054d1423b8d2cdba2bd223ab8488e2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method allow to set the equivalent noise temperature of the noise source when it is turned off, what matches its physical temperature. <br /></td></tr>
<tr class="separator:ae054d1423b8d2cdba2bd223ab8488e2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d643afa2c6bcf15b0f051cdc34855c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a2d643afa2c6bcf15b0f051cdc34855c2">EstimateParameters</a> ()</td></tr>
<tr class="memdesc:a2d643afa2c6bcf15b0f051cdc34855c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is one of the central methods. It estimates the front end parameters once the two sweeps were captured.  <a href="#a2d643afa2c6bcf15b0f051cdc34855c2">More...</a><br /></td></tr>
<tr class="separator:a2d643afa2c6bcf15b0f051cdc34855c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c50d372271fd12e10c295c2b6c98300"><td class="memItemLeft" align="right" valign="top"><a id="a9c50d372271fd12e10c295c2b6c98300"></a>
const <a class="el" href="structFreqValues.html">FreqValues</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a9c50d372271fd12e10c295c2b6c98300">GetGain</a> () const</td></tr>
<tr class="memdesc:a9c50d372271fd12e10c295c2b6c98300"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the estimated total gain curve of the front end. <br /></td></tr>
<tr class="separator:a9c50d372271fd12e10c295c2b6c98300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62bd5a5fdd4a62e70bf5048d75566df9"><td class="memItemLeft" align="right" valign="top"><a id="a62bd5a5fdd4a62e70bf5048d75566df9"></a>
const <a class="el" href="structFreqValues.html">FreqValues</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a62bd5a5fdd4a62e70bf5048d75566df9">GetNoiseTemp</a> () const</td></tr>
<tr class="memdesc:a62bd5a5fdd4a62e70bf5048d75566df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the estimated total noise temperature curve of the front end. <br /></td></tr>
<tr class="separator:a62bd5a5fdd4a62e70bf5048d75566df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef62a6573191332e82430093d809ecb3"><td class="memItemLeft" align="right" valign="top"><a id="aef62a6573191332e82430093d809ecb3"></a>
const <a class="el" href="structFreqValues.html">FreqValues</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#aef62a6573191332e82430093d809ecb3">GetNoiseFigure</a> () const</td></tr>
<tr class="memdesc:aef62a6573191332e82430093d809ecb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the estimated total noise figure curve of the front end. <br /></td></tr>
<tr class="separator:aef62a6573191332e82430093d809ecb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a066f5c2a3f21c2bc3875b1926048e3be"><td class="memItemLeft" align="right" valign="top"><a id="a066f5c2a3f21c2bc3875b1926048e3be"></a>
<a class="el" href="structFreqValues.html">FreqValues</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a066f5c2a3f21c2bc3875b1926048e3be">GetENRcorr</a> () const</td></tr>
<tr class="memdesc:a066f5c2a3f21c2bc3875b1926048e3be"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the corrected ENR values of the noise source. <br /></td></tr>
<tr class="separator:a066f5c2a3f21c2bc3875b1926048e3be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a2457f8c8c046e3e9dfcb0ba9047f0"><td class="memItemLeft" align="right" valign="top"><a id="a49a2457f8c8c046e3e9dfcb0ba9047f0"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a49a2457f8c8c046e3e9dfcb0ba9047f0">GetNSoffTemp</a> () const</td></tr>
<tr class="memdesc:a49a2457f8c8c046e3e9dfcb0ba9047f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the noise temperature of the noise source when it is turned off, what matches its physical temperature. <br /></td></tr>
<tr class="separator:a49a2457f8c8c046e3e9dfcb0ba9047f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59000567e2ba2b8bf5b14e6edee56b5e"><td class="memItemLeft" align="right" valign="top"><a id="a59000567e2ba2b8bf5b14e6edee56b5e"></a>
const <a class="el" href="structFreqValues.html">FreqValues</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a59000567e2ba2b8bf5b14e6edee56b5e">GetSweepNSoff</a> () const</td></tr>
<tr class="memdesc:a59000567e2ba2b8bf5b14e6edee56b5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the sweep with output power values which were got with the noise source turned off. <br /></td></tr>
<tr class="separator:a59000567e2ba2b8bf5b14e6edee56b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0914096e6cee72ca5ae86543e3615ef"><td class="memItemLeft" align="right" valign="top"><a id="ae0914096e6cee72ca5ae86543e3615ef"></a>
const <a class="el" href="structFreqValues.html">FreqValues</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#ae0914096e6cee72ca5ae86543e3615ef">GetSweepNSon</a> () const</td></tr>
<tr class="memdesc:ae0914096e6cee72ca5ae86543e3615ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the sweep with output power values which were got with the noise source turned on. <br /></td></tr>
<tr class="separator:ae0914096e6cee72ca5ae86543e3615ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3b3555fa5505ed9916fa8f76fee7cb"><td class="memItemLeft" align="right" valign="top"><a id="a8e3b3555fa5505ed9916fa8f76fee7cb"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a8e3b3555fa5505ed9916fa8f76fee7cb">IsCalibStarted</a> () const</td></tr>
<tr class="memdesc:a8e3b3555fa5505ed9916fa8f76fee7cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method allows to know if the calibration has been started, i.e. the noise source is connected to the input. <br /></td></tr>
<tr class="separator:a8e3b3555fa5505ed9916fa8f76fee7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a10567c6a721f166e3ad63873813745"><td class="memItemLeft" align="right" valign="top"><a id="a0a10567c6a721f166e3ad63873813745"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a0a10567c6a721f166e3ad63873813745">IsNoiseSourceOff</a> () const</td></tr>
<tr class="memdesc:a0a10567c6a721f166e3ad63873813745"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method allows to know if the noise source is turned off or not. <br /></td></tr>
<tr class="separator:a0a10567c6a721f166e3ad63873813745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd5775502a0aa05976dccd6142ad46b0"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structSweep.html">Sweep</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#afd5775502a0aa05976dccd6142ad46b0">CalibrateSweep</a> (const <a class="el" href="structSweep.html">Sweep</a> &amp;uncalSweep)</td></tr>
<tr class="memdesc:afd5775502a0aa05976dccd6142ad46b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This another central method which is intended to calibrate (correct) the sweeps obtained with the antenna, once the front end parameters have been estimated.  <a href="#afd5775502a0aa05976dccd6142ad46b0">More...</a><br /></td></tr>
<tr class="separator:afd5775502a0aa05976dccd6142ad46b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4bca93a2737020967d428c2e698ca34"><td class="memItemLeft" align="right" valign="top"><a id="af4bca93a2737020967d428c2e698ca34"></a>
const <a class="el" href="structSweep.html">Sweep</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#af4bca93a2737020967d428c2e698ca34">GetCalSweep</a> () const</td></tr>
<tr class="memdesc:af4bca93a2737020967d428c2e698ca34"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the last calibrated sweep. <br /></td></tr>
<tr class="separator:af4bca93a2737020967d428c2e698ca34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5943d84aa272ed548dcc5ad61a65306b"><td class="memItemLeft" align="right" valign="top"><a id="a5943d84aa272ed548dcc5ad61a65306b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a5943d84aa272ed548dcc5ad61a65306b">LoadDefaultParameters</a> ()</td></tr>
<tr class="memdesc:a5943d84aa272ed548dcc5ad61a65306b"><td class="mdescLeft">&#160;</td><td class="mdescRight">When errors occur during the calibration process, a set of default parameters curves are used to calibrate sweeps. This method loads those curve from the corresponding files. <br /></td></tr>
<tr class="separator:a5943d84aa272ed548dcc5ad61a65306b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a1173af037c656b63cce0f9dc1b51be"><td class="memItemLeft" align="right" valign="top"><a id="a9a1173af037c656b63cce0f9dc1b51be"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrontEndCalibrator.html#a9a1173af037c656b63cce0f9dc1b51be">AreParamEmpty</a> ()</td></tr>
<tr class="memdesc:a9a1173af037c656b63cce0f9dc1b51be"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns a <code>true</code> if no front end parameters have been estimated or loaded from the corresponding files, and a <code>false</code> otherwise. <br /></td></tr>
<tr class="separator:a9a1173af037c656b63cce0f9dc1b51be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The aim of this class is to calculate the total gain and total noise figure curves versus frequency of the RF front end. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abff839c00a46ff060c1d66fc3b151d65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abff839c00a46ff060c1d66fc3b151d65">&#9670;&nbsp;</a></span>FrontEndCalibrator() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FrontEndCalibrator::FrontEndCalibrator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCurveAdjuster.html">CurveAdjuster</a> &amp;&#160;</td>
          <td class="paramname"><em>adj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default class constructor. </p>
<p>At instantiation, the programmer must provide a reference to a <em><a class="el" href="classCurveAdjuster.html">CurveAdjuster</a></em> object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adj</td><td>A reference to a <em><a class="el" href="classCurveAdjuster.html">CurveAdjuster</a></em> object, which will be used to adjust some internal curves. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a026150fceb18ec9601cbc698e04f39cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a026150fceb18ec9601cbc698e04f39cc">&#9670;&nbsp;</a></span>FrontEndCalibrator() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FrontEndCalibrator::FrontEndCalibrator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCurveAdjuster.html">CurveAdjuster</a> &amp;&#160;</td>
          <td class="paramname"><em>adj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structBandParameters.html">BandParameters</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>bandsParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A more complete constructor which allows to insert the vector with the parameters of all frequency bands. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adj</td><td>A reference to a <em><a class="el" href="classCurveAdjuster.html">CurveAdjuster</a></em> object, which will be used to adjust some internal curves. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bandsParam</td><td>A vector with the parameters of all frequency bands. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8744dd099d7e7ba6f04be3505cd4a607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8744dd099d7e7ba6f04be3505cd4a607">&#9670;&nbsp;</a></span>~FrontEndCalibrator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FrontEndCalibrator::~FrontEndCalibrator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The <em><a class="el" href="classFrontEndCalibrator.html" title="The aim of this class is to calculate the total gain and total noise figure curves versus frequency o...">FrontEndCalibrator</a></em> destructor. </p>
<p>Its implementation is empty because the attributes destruction is implicitly. However, the destructor is defined here to allow this one to be called explicitly in any part of the code, what is used by the signals handler to destroy the objects when a signal to finish the execution of the software is received. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afd5775502a0aa05976dccd6142ad46b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd5775502a0aa05976dccd6142ad46b0">&#9670;&nbsp;</a></span>CalibrateSweep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structSweep.html">Sweep</a> &amp; FrontEndCalibrator::CalibrateSweep </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structSweep.html">Sweep</a> &amp;&#160;</td>
          <td class="paramname"><em>powerOut</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This another central method which is intended to calibrate (correct) the sweeps obtained with the antenna, once the front end parameters have been estimated. </p>
<p>The calibration of sweeps with output power values implies the following tasks:</p><ul>
<li>Referencing the sweep to the input of the front end (antenna's output), what is done subtracting the total gain curve to the sweep, taking the power values in dBm and the gain values in dB.</li>
<li>Removing of the internal noise added to the sweep by the front end, what is done taking into account its total equivalent noise temperature. To perform these tasks the following equation are used: <p class="formulaDsp">
<img class="formulaDsp" alt="\[ P_{IN_{eff}[dBm]}=P_{OUT[dBm]}-G_{receiver[dB]} \]" src="form_7.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ P_{IN_{eff}[W]}=10^{\frac{P_{IN_{eff}[dBm]}}{10}}*10^{-3} \]" src="form_8.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ P_{IN[W]}=P_{IN_{eff}[W]}-N_{receiver[W]}=P_{IN_{eff}[W]}-k_{[J/°K]}*RBW_{[Hz]}*T_{receiver[°K]} \]" src="form_9.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ P_{IN[dBm]}=10*\log_{10}(P_{IN[W]})+30 \]" src="form_10.png"/>
</p>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">powerOut</td><td>A <em><a class="el" href="structSweep.html" title="The aim of this structure is to store the data points of a sweep obtained with the spectrum analyzer ...">Sweep</a></em> structure which stores an uncalibrated sweep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The calibrated sweep. </dd></dl>
</li>
</ul>

</div>
</div>
<a id="a2d643afa2c6bcf15b0f051cdc34855c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d643afa2c6bcf15b0f051cdc34855c2">&#9670;&nbsp;</a></span>EstimateParameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FrontEndCalibrator::EstimateParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is one of the central methods. It estimates the front end parameters once the two sweeps were captured. </p>
<p>This method must be called once the calibration process finished, i.e. the method <code><a class="el" href="classFrontEndCalibrator.html#a4ba6971b00b7736b80e04a5f9ca784dc" title="The calibration process is finished turning it off the noise generator and switching the input to the...">EndCalibration()</a></code> must be called first. The front end parameters, total gain and total noise figure, are estimated using the Y-Factor method, which is exposed in the Application Note "Noise Figure Measurement Accuracy – The Y-Factor Method" of Keysight Technologies.</p>
<p>Once the parameters' curves have been estimated, their mean values are checked to be reasonable. </p>

</div>
</div>
<a id="af166e90f4fe0dfd7cdf825b88d33a479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af166e90f4fe0dfd7cdf825b88d33a479">&#9670;&nbsp;</a></span>LoadENR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FrontEndCalibrator::LoadENR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method load the curve of ENR values versus frequency of the noise generator, from the corresponding file. </p>
<p>The ENR values versus frequency of the noise generator are loaded from the file <a class="el" href="Basics_8h.html#a0423f4cb393331ce0b9f6b3a43adcaae">BASE_PATH</a>/calibration/enr.txt, then those values are corrected taking into account a statistical mean physical temperature of the noise source at time of the factory calibration. That technique is exposed in the Application Note "Noise Figure Measurement Accuracy – The Y-Factor Method" of Keysight Technologies. To finish, the corrected ENR curve is adjusted to be used in the mathematical operations with the captured sweeps. To perform the estimation of the front end parameters the following equations are used: </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ ENR_{CORR}=ENR_{CAL}+\frac{T_{O}-T_{CORR}}{T_{O}} \]" src="form_0.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ T_{SON}=T_{O}*ENR_{CORR}+T_{SOFF} \]" src="form_1.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ Y=\frac{N_{OUT_{ON}}}{N_{OUT_{OFF}}} \]" src="form_2.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ T_{receiver}=\frac{T_{SON}-Y*T_{SOFF}}{Y-1} \]" src="form_3.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ F_{receiver}=1+\frac{T_{receiver}}{T_O} \]" src="form_4.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ NF_{receiver}=10*\log_{10}(F_{receiver}) \]" src="form_5.png"/>
</p>
 <p class="formulaDsp">
<img class="formulaDsp" alt="\[ G_{receiver}=\frac{1}{2*k*RBW}*\left[\frac{N_{OUT_{ON}}}{T_{SON}+T_{receiver}}+\frac{N_{OUT_{OFF}}}{T_{SOFF}+T_{receiver}}\right] \]" src="form_6.png"/>
</p>
 
</div>
</div>
<a id="a6fcf8e8343878614d1b03910bb97a3d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fcf8e8343878614d1b03910bb97a3d6">&#9670;&nbsp;</a></span>SetBandsParameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FrontEndCalibrator::SetBandsParameters </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structBandParameters.html">BandParameters</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>bandsParam</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method allows to insert a vector with the parameters of all frequency bands. </p>
<p>After the bands' parameters are stored, the RBW curve is built, taking into account those parameters. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bandsParam</td><td>A vector with the parameters of all frequency bands. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SweepProcessing_8h_source.html">SweepProcessing.h</a></li>
<li>FrontEndCalibrator.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
