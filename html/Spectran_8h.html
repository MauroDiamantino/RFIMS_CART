<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RFIMS-CART: Spectran.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="CART-1_icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RFIMS-CART
   </div>
   <div id="projectbrief">This software was designed to capture RF power measurements from a spectrum analyzer Aaronia Spectran V4, using an antenna which could be rotated to point the horizon in different azimuth angles and whose polarization could be changed between horizontal and vertical. A sweep from 1 GHz (or maybe less) to 9.4 GHz is captured in each antenna position and then it is calibrated, it is processed to identify RF interference (RFI), it is saved into memory, it is plotted with the detected RFI and finally the measurements are sent to a remote server.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Spectran.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This header file contains the declarations of the classes which allow the communication with the spectrum analyzer Aaronia Spectran HF-60105 V4 X.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="Basics_8h_source.html">Basics.h</a>&quot;</code><br />
<code>#include &lt;ftd2xx.h&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;boost/bimap.hpp&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Spectran.h:</div>
<div class="dyncontent">
<div class="center"><img src="Spectran_8h__incl.png" border="0" usemap="#Spectran_8h" alt=""/></div>
<map name="Spectran_8h" id="Spectran_8h">
<area shape="rect" id="node2" href="Basics_8h.html" title="This header file contains the declarations of the most basic and global entities which are used by ma..." alt="" coords="783,80,857,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="Spectran_8h__dep__incl.png" border="0" usemap="#Spectran_8hdep" alt=""/></div>
<map name="Spectran_8hdep" id="Spectran_8hdep">
<area shape="rect" id="node2" href="Command_8cpp.html" title="This file contains the definitions of several of the methods of the class Command. " alt="" coords="5,80,112,107"/>
<area shape="rect" id="node3" href="TopLevel_8h_source.html" title="TopLevel.h" alt="" coords="137,80,223,107"/>
<area shape="rect" id="node4" href="Reply_8cpp.html" title="This file contains the definitions of many methods of the classes Reply and SweepReply. " alt="" coords="247,80,329,107"/>
<area shape="rect" id="node5" href="SpectranConfigurator_8cpp.html" title="This file contains the definitions of some of the methods of the class SpectranConfigurator. " alt="" coords="353,80,524,107"/>
<area shape="rect" id="node6" href="SpectranInterface_8cpp.html" title="This file contains the definitions of some of the methods of the class SpectranInterface. " alt="" coords="549,80,699,107"/>
</map>
</div>
</div>
<p><a href="Spectran_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionFloatToBytes.html">FloatToBytes</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An union which is used to split a <code>float</code> value in its 4 bytes.  <a href="unionFloatToBytes.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommand.html">Command</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class builds the corresponding bytes array to send a certain command to a Aaronia Spectran V4 series spectrum analyzer.  <a href="classCommand.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classReply.html">Reply</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The class <em><a class="el" href="classReply.html" title="The class Reply is intended to receive a bytes vector sent by the spectrum analyzer and to extract it...">Reply</a></em> is intended to receive a bytes vector sent by the spectrum analyzer and to extract its information.  <a href="classReply.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSweepReply.html">SweepReply</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class derives from the base class <em><a class="el" href="classReply.html" title="The class Reply is intended to receive a bytes vector sent by the spectrum analyzer and to extract it...">Reply</a></em> and is intended to process in a better way replies with sweep points, i.e. <em>AMPFREQDAT</em> replies.  <a href="classSweepReply.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpectranInterface.html">SpectranInterface</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The aim of this class is to manage the communication with the Aaronia Spectran device.  <a href="classSpectranInterface.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpectranConfigurator.html">SpectranConfigurator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The class <em><a class="el" href="classSpectranConfigurator.html" title="The class SpectranConfigurator is intended to manage the process of configuring the Aaronia Spectran ...">SpectranConfigurator</a></em> is intended to manage the process of configuring the Aaronia Spectran device.  <a href="classSpectranConfigurator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSpectranConfigurator_1_1FixedParameters.html">SpectranConfigurator::FixedParameters</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure saves the fixed parameters of the spectrum analyzer, i.e. the parameters which do not change through the entire measurement cycle.  <a href="structSpectranConfigurator_1_1FixedParameters.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSweepBuilder.html">SweepBuilder</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The aim of class <em><a class="el" href="classSweepBuilder.html" title="The aim of class SweepBuilder is to build the complete sweep from the individual sweep points which a...">SweepBuilder</a></em> is to build the complete sweep from the individual sweep points which are delivered by the Spectran Interface.  <a href="classSweepBuilder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a39a3a5436da634ac5816e79f8a29d25c"><td class="memItemLeft" align="right" valign="top"><a id="a39a3a5436da634ac5816e79f8a29d25c"></a>
typedef boost::bimap&lt; float, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Spectran_8h.html#a39a3a5436da634ac5816e79f8a29d25c">RBW_bimap</a></td></tr>
<tr class="memdesc:a39a3a5436da634ac5816e79f8a29d25c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This typedef simplifies the definitions of containers of type <code>boost::bimap&lt;float,float&gt;</code> which is used to store RBW values and its indexes. <br /></td></tr>
<tr class="separator:a39a3a5436da634ac5816e79f8a29d25c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a0411392c90f0c8f0d8e44a4e94259276"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Spectran_8h.html#a0411392c90f0c8f0d8e44a4e94259276">SpecVariable</a> : uint8_t { <br />
&#160;&#160;<b>STARTFREQ</b> =0x01, 
<b>STOPFREQ</b>, 
<b>RESBANDW</b>, 
<b>VIDBANDW</b>, 
<br />
&#160;&#160;<b>SWEEPTIME</b>, 
<b>ATTENFAC</b>, 
<b>REFLEVEL</b>, 
<b>DISPRANGE</b>, 
<br />
&#160;&#160;<b>DISPUNIT</b>, 
<b>DETMODE</b>, 
<b>DEMODMODE</b>, 
<b>SPECPROC</b>, 
<br />
&#160;&#160;<b>ANTTYPE</b>, 
<b>CABLETYPE</b>, 
<b>RECVCONF</b>, 
<b>CENTERFREQ</b> =0x1E, 
<br />
&#160;&#160;<b>SPANFREQ</b>, 
<b>PREAMPEN</b> =0x10, 
<b>SWPDLYACC</b>, 
<b>SWPFRQPTS</b>, 
<br />
&#160;&#160;<b>REFOFFS</b>, 
<b>USBMEAS</b> =0x20, 
<b>USBSWPRST</b>, 
<b>USBSWPID</b>, 
<br />
&#160;&#160;<b>USBRUNPROG</b>, 
<b>LOGFILEID</b> =0x30, 
<b>LOGSAMPCNT</b>, 
<b>LOGTIMEIVL</b>, 
<br />
&#160;&#160;<b>SPECDISP</b> =0x41, 
<b>PEAKDISP</b>, 
<b>MARKMINPK</b>, 
<b>RDOUTIDX</b>, 
<br />
&#160;&#160;<b>MARKCOUNT</b>, 
<b>LEVELTONE</b>, 
<b>BACKBBEN</b>, 
<b>DISPDIS</b>, 
<br />
&#160;&#160;<b>SPKVOLUME</b>, 
<b>RBWFSTEP</b> =0x60, 
<b>ANTGAIN</b>, 
<b>PEAK1POW</b> =0x80, 
<br />
&#160;&#160;<b>PEAK2POW</b>, 
<b>PEAK3POW</b>, 
<b>PEAK1FREQ</b> =0x84, 
<b>PEAK2FREQ</b>, 
<br />
&#160;&#160;<b>PEAK3FREQ</b>, 
<b>MAXPEAKPOW</b> =0x90, 
<b>STDTONE</b> =0xC0, 
<b>UNINITIALIZED</b>
<br />
 }<tr class="memdesc:a0411392c90f0c8f0d8e44a4e94259276"><td class="mdescLeft">&#160;</td><td class="mdescRight">An enumeration which contains of the names of all the environment variables of the spectrum analyzer Aaronia Spectran HF-60105 V4 X.  <a href="Spectran_8h.html#a0411392c90f0c8f0d8e44a4e94259276">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a0411392c90f0c8f0d8e44a4e94259276"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a16fa8eb91a19fde7a399d85c521f63fd"><td class="memItemLeft" align="right" valign="top"><a id="a16fa8eb91a19fde7a399d85c521f63fd"></a>
const std::vector&lt; RBW_bimap::value_type &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Spectran_8h.html#a16fa8eb91a19fde7a399d85c521f63fd">vect</a> ({ {50e6, 0.0}, {3e6, 1.0}, {1e6, 2.0}, {300e3, 3.0}, {100e3, 4.0}, {30e3, 5.0}, {10e3, 6.0}, {3e3, 7.0}, {1e3, 8.0}, {120e3, 100.0}, {9e3, 101.0}, {200.0, 102.0}, {5e6, 103.0}, {200e3, 104}, {1.5e6, 105.0} })</td></tr>
<tr class="memdesc:a16fa8eb91a19fde7a399d85c521f63fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector which is initialized with the pairs of values {RBW(Hz), RBW index}. This vector is used to initialize a bidirectional map. <br /></td></tr>
<tr class="separator:a16fa8eb91a19fde7a399d85c521f63fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae551a6824a7df7b10dedc4b8743f36f5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="Spectran_8h.html#a39a3a5436da634ac5816e79f8a29d25c">RBW_bimap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Spectran_8h.html#ae551a6824a7df7b10dedc4b8743f36f5">RBW_INDEX</a> (vect.begin(), vect.end())</td></tr>
<tr class="memdesc:ae551a6824a7df7b10dedc4b8743f36f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">A bidirectional map (bimap) which contains the pairs of values {RBW(Hz), RBW index}.  <a href="#ae551a6824a7df7b10dedc4b8743f36f5">More...</a><br /></td></tr>
<tr class="separator:ae551a6824a7df7b10dedc4b8743f36f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This header file contains the declarations of the classes which allow the communication with the spectrum analyzer Aaronia Spectran HF-60105 V4 X. </p>
<p>The classes defined in this header file allows to set up the spectrum analyzer, read its environment variables, enable/disable the streaming of sweep points, process its responses and to capture and store the sweep points in an orderly manner. </p><dl class="section author"><dt>Author</dt><dd>Mauro Diamantino </dd></dl>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a0411392c90f0c8f0d8e44a4e94259276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0411392c90f0c8f0d8e44a4e94259276">&#9670;&nbsp;</a></span>SpecVariable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="Spectran_8h.html#a0411392c90f0c8f0d8e44a4e94259276">SpecVariable</a> : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>An enumeration which contains of the names of all the environment variables of the spectrum analyzer Aaronia Spectran HF-60105 V4 X. </p>
<p>Each member (a variable name) has associated an integer number which is equal to its identification index (ID), taking into account the Spectran USB Protocol documentation. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae551a6824a7df7b10dedc4b8743f36f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae551a6824a7df7b10dedc4b8743f36f5">&#9670;&nbsp;</a></span>RBW_INDEX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="Spectran_8h.html#a39a3a5436da634ac5816e79f8a29d25c">RBW_bimap</a> RBW_INDEX </td>
          <td>(</td>
          <td class="paramtype">vect.&#160;</td>
          <td class="paramname"><em>begin</em>(), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vect.&#160;</td>
          <td class="paramname"><em>end</em>()&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A bidirectional map (bimap) which contains the pairs of values {RBW(Hz), RBW index}. </p>
<p>These pairs of values relates a RBW frequency value with its corresponding index taking into account the Spectran USB protocol. So this bidirectional container allows to get the corresponding index given a frequency value or to get the corresponding frequency value given an index. This allows to work with frequency values of RBW at high level, eliminating the need to learn the protocol's indexes. This container is used by the classes <em><a class="el" href="classCommand.html" title="This class builds the corresponding bytes array to send a certain command to a Aaronia Spectran V4 se...">Command</a></em> and <em><a class="el" href="classReply.html" title="The class Reply is intended to receive a bytes vector sent by the spectrum analyzer and to extract it...">Reply</a></em>. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
