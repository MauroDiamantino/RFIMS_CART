\hypertarget{classGPSInterface}{}\section{G\+P\+S\+Interface Class Reference}
\label{classGPSInterface}\index{G\+P\+S\+Interface@{G\+P\+S\+Interface}}


The class {\itshape G\+P\+S\+Interace} is intended to establish the communication with the Aaronia G\+PS receiver, to request and capture messages from this one and extract useful data from the messages.  




{\ttfamily \#include $<$Antenna\+Positioning.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classGPSInterface_a91c9f19d6588bcd34a8038bdc036c20c}{G\+P\+S\+Interface} ()
\begin{DoxyCompactList}\small\item\em The default constructor of class \hyperlink{classGPSInterface}{G\+P\+S\+Interface}. \end{DoxyCompactList}\item 
\hyperlink{classGPSInterface_ac8156be0348867ab39ba6e7909e16c3b}{$\sim$\+G\+P\+S\+Interface} ()
\begin{DoxyCompactList}\small\item\em The \hyperlink{classGPSInterface}{G\+P\+S\+Interface} class\textquotesingle{} destructor. \end{DoxyCompactList}\item 
void \hyperlink{classGPSInterface_ac4a2712c98235f5ca2d826525180840b}{Initialize} ()
\begin{DoxyCompactList}\small\item\em This method is intended to try the communication with the Aaronia G\+PS receiver and configure the device. \end{DoxyCompactList}\item 
unsigned int \hyperlink{classGPSInterface_a3f92ed959a1ea60258e48ca7c379aec1}{Available} ()
\begin{DoxyCompactList}\small\item\em This method returns the number of bytes in the input buffer. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_acfbd1398a99916c1009b0ac00098ca67}\label{classGPSInterface_acfbd1398a99916c1009b0ac00098ca67}} 
void \hyperlink{classGPSInterface_acfbd1398a99916c1009b0ac00098ca67}{Read\+One\+Data\+Set} ()
\begin{DoxyCompactList}\small\item\em This method send a command to get just one data set (G\+PS and sensors data) and it updates the class attributes with that data set. \end{DoxyCompactList}\item 
void \hyperlink{classGPSInterface_a663c36374cc097040cb8945a3c25b190}{Disable\+Streaming} ()
\begin{DoxyCompactList}\small\item\em This method is intended to disable the data streaming from the Aaronia G\+PS receiver. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_a698c9b38eaaa36fef1abcbc19614e2ad}\label{classGPSInterface_a698c9b38eaaa36fef1abcbc19614e2ad}} 
void \hyperlink{classGPSInterface_a698c9b38eaaa36fef1abcbc19614e2ad}{Purge} ()
\begin{DoxyCompactList}\small\item\em A method intended to purge the input and output buffers of the U\+SB interface. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_a6ca2cb996a9ed3c6cd436491c56aab18}\label{classGPSInterface_a6ca2cb996a9ed3c6cd436491c56aab18}} 
const \hyperlink{structTimeData}{Time\+Data} \& \hyperlink{classGPSInterface_a6ca2cb996a9ed3c6cd436491c56aab18}{Get\+Time\+Data} () const
\begin{DoxyCompactList}\small\item\em This method returns the time data (date and time) which was received from the G\+PS satellites. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_a9c827a6ce3078c5e748105019b75e0e0}\label{classGPSInterface_a9c827a6ce3078c5e748105019b75e0e0}} 
const \hyperlink{structGPSCoordinates}{G\+P\+S\+Coordinates} \& \hyperlink{classGPSInterface_a9c827a6ce3078c5e748105019b75e0e0}{Get\+Coordinates} () const
\begin{DoxyCompactList}\small\item\em This method returns the G\+PS coordinates. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_ab07cafce284ff50540a2be5b00410e34}\label{classGPSInterface_ab07cafce284ff50540a2be5b00410e34}} 
unsigned int \hyperlink{classGPSInterface_ab07cafce284ff50540a2be5b00410e34}{Get\+Num\+Of\+Satellites} () const
\begin{DoxyCompactList}\small\item\em This method returns the current number of satellites which the G\+PS receiver is connected with. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_ac70e16c9a95f440bc8ff58429b0db42a}\label{classGPSInterface_ac70e16c9a95f440bc8ff58429b0db42a}} 
float \hyperlink{classGPSInterface_ac70e16c9a95f440bc8ff58429b0db42a}{Get\+G\+P\+S\+Elevation} () const
\begin{DoxyCompactList}\small\item\em This method returns the elevation of the G\+PS receiver over the sea level, measured in meters (m) and based on G\+PS data. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_ac3672cc76506fe6ed1ee4824a57c0857}\label{classGPSInterface_ac3672cc76506fe6ed1ee4824a57c0857}} 
const \hyperlink{structData3D}{Data3D} \& \hyperlink{classGPSInterface_ac3672cc76506fe6ed1ee4824a57c0857}{Get\+Gyro\+Data} () const
\begin{DoxyCompactList}\small\item\em This method returns the 3D gyroscope data. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_aa0032f67cd64db9ddeee1b275025b417}\label{classGPSInterface_aa0032f67cd64db9ddeee1b275025b417}} 
const \hyperlink{structData3D}{Data3D} \& \hyperlink{classGPSInterface_aa0032f67cd64db9ddeee1b275025b417}{Get\+Compass\+Data} () const
\begin{DoxyCompactList}\small\item\em This method returns the 3D compass data. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_a675644b668df300d19afaefff9849886}\label{classGPSInterface_a675644b668df300d19afaefff9849886}} 
const \hyperlink{structData3D}{Data3D} \& \hyperlink{classGPSInterface_a675644b668df300d19afaefff9849886}{Get\+Acceler\+Data} () const
\begin{DoxyCompactList}\small\item\em This method returns the 3D accelerometer data. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_a63ed7a32797c2fc7557bfdfdb74c43ed}\label{classGPSInterface_a63ed7a32797c2fc7557bfdfdb74c43ed}} 
float \hyperlink{classGPSInterface_a63ed7a32797c2fc7557bfdfdb74c43ed}{Get\+Pressure} () const
\begin{DoxyCompactList}\small\item\em This method returns the ambient temperature, measured in hectopascal (h\+Pa). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_aa6c34c4c04bea958c4ad15a2cd728e5e}\label{classGPSInterface_aa6c34c4c04bea958c4ad15a2cd728e5e}} 
float \hyperlink{classGPSInterface_aa6c34c4c04bea958c4ad15a2cd728e5e}{Get\+Press\+Elevation} () const
\begin{DoxyCompactList}\small\item\em This method returns the elevation of the G\+PS receiver over the sea level, measured in meters (m) and based on the ambient pressure. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_a5443691a26eb05587190cf631ffbcec3}\label{classGPSInterface_a5443691a26eb05587190cf631ffbcec3}} 
double \hyperlink{classGPSInterface_a5443691a26eb05587190cf631ffbcec3}{Get\+Yaw} () const
\begin{DoxyCompactList}\small\item\em This method returns the yaw angle, measured in degrees and whose range is 0 to 359. North corresponds to 0째, east to 90째, south to 180째 and west to 270째. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_a5cb902ccc2165294b4dacc7f660dcb5a}\label{classGPSInterface_a5cb902ccc2165294b4dacc7f660dcb5a}} 
double \hyperlink{classGPSInterface_a5cb902ccc2165294b4dacc7f660dcb5a}{Get\+Roll} () const
\begin{DoxyCompactList}\small\item\em This method returns the roll angle, measured in degrees and whose range is -\/180 to 180. This angle is zero if the device is put on horizontal surface, positive if it turns right and negative if it turns left. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_a27f5655d78068177d901933528f3ac6f}\label{classGPSInterface_a27f5655d78068177d901933528f3ac6f}} 
double \hyperlink{classGPSInterface_a27f5655d78068177d901933528f3ac6f}{Get\+Pitch} () const
\begin{DoxyCompactList}\small\item\em This method returns the pitch angle, measured in degrees and whose range is -\/180 to 180. This angle is zero if the device is put on horizontal surface, positive if the elevation is over the surface and negative if the elevation is below the surface. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classGPSInterface_a568715247cbcfa261d68a030df7bd1ef}\label{classGPSInterface_a568715247cbcfa261d68a030df7bd1ef}} 
bool \hyperlink{classGPSInterface_a568715247cbcfa261d68a030df7bd1ef}{Is\+Connected} () const
\begin{DoxyCompactList}\small\item\em This method states if the communication with the Aaronia G\+PS receiver has been initialized. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The class {\itshape G\+P\+S\+Interace} is intended to establish the communication with the Aaronia G\+PS receiver, to request and capture messages from this one and extract useful data from the messages. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classGPSInterface_a91c9f19d6588bcd34a8038bdc036c20c}\label{classGPSInterface_a91c9f19d6588bcd34a8038bdc036c20c}} 
\index{G\+P\+S\+Interface@{G\+P\+S\+Interface}!G\+P\+S\+Interface@{G\+P\+S\+Interface}}
\index{G\+P\+S\+Interface@{G\+P\+S\+Interface}!G\+P\+S\+Interface@{G\+P\+S\+Interface}}
\subsubsection{\texorpdfstring{G\+P\+S\+Interface()}{GPSInterface()}}
{\footnotesize\ttfamily G\+P\+S\+Interface\+::\+G\+P\+S\+Interface (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



The default constructor of class \hyperlink{classGPSInterface}{G\+P\+S\+Interface}. 

The constructor has to include the custom V\+ID and P\+ID combination of Aaronia G\+PS receiver within the allowed values, then it has to open the communication with the G\+PS receiver and set up the U\+A\+RT port on the F\+T\+DI chip. \mbox{\Hypertarget{classGPSInterface_ac8156be0348867ab39ba6e7909e16c3b}\label{classGPSInterface_ac8156be0348867ab39ba6e7909e16c3b}} 
\index{G\+P\+S\+Interface@{G\+P\+S\+Interface}!````~G\+P\+S\+Interface@{$\sim$\+G\+P\+S\+Interface}}
\index{````~G\+P\+S\+Interface@{$\sim$\+G\+P\+S\+Interface}!G\+P\+S\+Interface@{G\+P\+S\+Interface}}
\subsubsection{\texorpdfstring{$\sim$\+G\+P\+S\+Interface()}{~GPSInterface()}}
{\footnotesize\ttfamily G\+P\+S\+Interface\+::$\sim$\+G\+P\+S\+Interface (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



The \hyperlink{classGPSInterface}{G\+P\+S\+Interface} class\textquotesingle{} destructor. 

The destructor has to make sure that the data streaming and the data logging into the micro\+SD card are stopped, and then it closes the communication with the Aaronia G\+PS receiver. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classGPSInterface_a3f92ed959a1ea60258e48ca7c379aec1}\label{classGPSInterface_a3f92ed959a1ea60258e48ca7c379aec1}} 
\index{G\+P\+S\+Interface@{G\+P\+S\+Interface}!Available@{Available}}
\index{Available@{Available}!G\+P\+S\+Interface@{G\+P\+S\+Interface}}
\subsubsection{\texorpdfstring{Available()}{Available()}}
{\footnotesize\ttfamily unsigned int G\+P\+S\+Interface\+::\+Available (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This method returns the number of bytes in the input buffer. 

It uses the function F\+T\+\_\+\+Get\+Queue\+Status() of the D2\+XX library. \mbox{\Hypertarget{classGPSInterface_a663c36374cc097040cb8945a3c25b190}\label{classGPSInterface_a663c36374cc097040cb8945a3c25b190}} 
\index{G\+P\+S\+Interface@{G\+P\+S\+Interface}!Disable\+Streaming@{Disable\+Streaming}}
\index{Disable\+Streaming@{Disable\+Streaming}!G\+P\+S\+Interface@{G\+P\+S\+Interface}}
\subsubsection{\texorpdfstring{Disable\+Streaming()}{DisableStreaming()}}
{\footnotesize\ttfamily void G\+P\+S\+Interface\+::\+Disable\+Streaming (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This method is intended to disable the data streaming from the Aaronia G\+PS receiver. 

! This method is intended to enable the streaming of data from the G\+PS receiver. $\ast$! After the streaming has been enable the method Capture\+Stream\+Data() must be used to get the stream data ! This method is intended to capture the continuous flow of data (stream) which sent from the Aaronia G\+PS receiver (when the streming is enabled). $\ast$! When this method is called the G\+PS interface reads one set of data from the U\+SB interface and calls the method \mbox{\Hypertarget{classGPSInterface_ac4a2712c98235f5ca2d826525180840b}\label{classGPSInterface_ac4a2712c98235f5ca2d826525180840b}} 
\index{G\+P\+S\+Interface@{G\+P\+S\+Interface}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!G\+P\+S\+Interface@{G\+P\+S\+Interface}}
\subsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily void G\+P\+S\+Interface\+::\+Initialize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This method is intended to try the communication with the Aaronia G\+PS receiver and configure the device. 

First, this method tries the communication with an ID command, and if the reply is right it shows the hardware version, firmware version and protocol version and then it disables the data streaming and the data logging into the micro\+SD card. After, the G\+PS interface set up the following variables\+: data rate of streaming, accelerometer range and bandwidth of the average filter of the gyroscope sensor. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/new-\/mauro/eclipse-\/cdt/workspace/\+R\+F\+I\+M\+S\+\_\+\+C\+A\+R\+T/src/\hyperlink{AntennaPositioning_8h}{Antenna\+Positioning.\+h}\item 
/home/new-\/mauro/eclipse-\/cdt/workspace/\+R\+F\+I\+M\+S\+\_\+\+C\+A\+R\+T/src/\hyperlink{GPSInterface_8cpp}{G\+P\+S\+Interface.\+cpp}\end{DoxyCompactItemize}
